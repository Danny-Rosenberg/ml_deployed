<!DOCTYPE HTML>
<html>
<body>

<label>
  <input type="text" id="question1" />
</label>
<label>
  <input type="text" id="question2" />
</label>

<button id="submitData" type="button">Send data to server</button>

<script>
(function(){
  var httpRequest;
  document.getElementById("submitData").onclick = function(){
    var q1 = document.getElementById("question1").value;
    var q2 = document.getElementById("question2").value;
    makeRequest('client.js', q1, q2);
  
  };
  
  function makeRequest(url, q1, q2){
    httpRequest = new XMLHttpRequest();

    if(!httpRequest){
      alert("problem creating xmlHTTPRequest");
      return false;
    }

    //need to make another route to handle the incoming data, sweet
    var url = "http://localhost:8080/data"
    httpRequest.onreadystatechange = alertContents;
    httpRequest.open('POST', url);
    httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    httpRequest.send('questionOne=' + encodeURIComponent(q1) + 'questionTwo=' + encodeURIComponent(q2));

  }

  function alertContents(){
    if(http.Request.readyState === XMLHttpRequest.DONE){
      if(httpRequest.status === 200){
        var response = JSON.parse(httpRequest.responseText);
        alert(response.computedString);
      } else {
        alert('there was a problem with the request');
     }
    }
  }


})();
</script>


</body>
</html>


